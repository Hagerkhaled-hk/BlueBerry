import{u as O,r as i,C as Z,f as B,W as J,j as s,D as K,L as Q,b as U,a as _}from"./index-BPVw2uDO.js";import{c as m,d as ss,e as es}from"./index-DOZVnykx.js";import{V as n}from"./index-BNMJkQJ2.js";import"./iconBase-BcyfLpxD.js";function ns(){var j,p,g,f,v,N,b,y,C,k,S,E,P,I,$,A;const{id:o}=O(),[r,x]=i.useState(1),[e,h]=i.useState({}),[F,L]=i.useState(0),{plusMinus:u,Addtocart:R,isDisabled:Y,IsExceed:M,FindingElementAmount:q}=i.useContext(Z),{addToCompare:T,isExistCompare:V}=i.useContext(B),{addToWish:X,isWishExist:z}=i.useContext(J),G=async()=>{const t=U.filter(a=>a.title==o);if(console.log(t),console.log(o),console.log(`https://dummyjson.com/products/search?q=${o}`),t.length==0)try{const{data:a}=await _.get(`https://dummyjson.com/products/search?q=${o}`);h(a.products),console.log(a)}catch(a){console.error("Error fetching products:",a)}else h(t)},H=t=>{const a=t.nativeEvent.offsetX,c=t.nativeEvent.offsetY;t.target.style.transformOrigin=`${a}px ${c}px`};return i.useEffect(()=>{G()},[o]),s.jsxs("div",{className:"ProductDetails",children:[s.jsx(K,{tilte:"Shop Page",page:["Shop Page","Category",o]}),s.jsx("div",{className:"container-fluid Container   ",children:s.jsx("div",{className:"card mb-3",children:s.jsxs("div",{className:"row g-5",children:[s.jsx("div",{className:"col-md-6  image-col ",children:s.jsxs("div",{className:"Images",children:[s.jsx("div",{className:"mainImage",children:s.jsx("img",{src:((j=e[0])==null?void 0:j.images[F])??((p=e[0])==null?void 0:p.img)??((g=e[0])==null?void 0:g.thumbinal),onMouseMove:t=>H(t),className:"img-fluid rounded-start",alt:"..."})}),s.jsx("div",{className:"altImages",children:(f=e[0])==null?void 0:f.images.map((t,a)=>s.jsx("div",{onClick:()=>L(a),children:s.jsx("img",{src:t,alt:""})},a))})]})}),s.jsx("div",{className:"col-md-6 text-col ",style:{padding:"0px "},children:s.jsxs("div",{className:"text",children:[s.jsx("div",{className:"catg",children:s.jsxs("h5",{children:["( ",(v=e[0])==null?void 0:v.category," )"]})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"card-title",children:(N=e[0])==null?void 0:N.title}),s.jsxs("p",{className:"card-text rating",children:[s.jsxs("span",{children:[s.jsx(m,{}),s.jsx(m,{}),s.jsx(m,{}),s.jsx(m,{}),s.jsx(ss,{})]}),s.jsx("span",{style:{opacity:"0.5"},children:"|"}),((b=e[0])==null?void 0:b.rating)??((y=e[0])==null?void 0:y.reviews[0].rating)," Rating"]})]}),s.jsx("p",{className:"card-text description",children:((C=e[0])==null?void 0:C.description)??((k=e[0])==null?void 0:k.discription)}),s.jsxs("p",{className:"card-text price",children:["Price: ",s.jsxs("span",{children:["$",(S=e[0])==null?void 0:S.price]})]}),s.jsxs("div",{className:"buttons",children:[s.jsxs("div",{className:"top",children:[s.jsx("button",{className:"Compare   btn btn-warning",onClick:()=>{var t,a,c,l,d;V((t=e[0])==null?void 0:t.title,(a=e[0])==null?void 0:a.category)?n.error("It's already exists in compare"):(T((c=e[0])==null?void 0:c.title,(l=e[0])==null?void 0:l.category),n.success(`Successfully Added ${(d=e[0])==null?void 0:d.title} to compare`))},children:"Compare"}),s.jsx("button",{onClick:()=>{var t,a;z((t=e[0])==null?void 0:t.title)?n.error("It's already exists in wishlist"):(X(e[0]),n.success(`Successfully Added ${(a=e[0])==null?void 0:a.title} to wishlist`))},className:"Wish List btn btn-danger",children:"Wish list"})]}),s.jsxs("div",{className:"btn d-flex justify-content-center align-items-center gap-2",children:[s.jsxs("div",{className:"in-between ",children:[s.jsx("button",{disabled:r==(((E=e[0])==null?void 0:E.count)??((P=e[0])==null?void 0:P.stock)),onClick:()=>u(1,x),className:"plus bg btn ",children:"+"}),s.jsx("p",{children:r}),s.jsx("button",{disabled:r==1,onClick:()=>u(0,x),className:"minus btn ",children:"-"})]}),s.jsxs("small",{style:{fontSize:"11px",color:"var(--color-text)"},children:["(",(((I=e[0])==null?void 0:I.count)??(($=e[0])==null?void 0:$.stock))-q((A=e[0])==null?void 0:A.title),") left"]})]}),s.jsx("div",{className:"bottom",children:s.jsx("button",{className:"btn ",onClick:()=>{var t,a,c,l,d,w,D,W;M((t=e[0])==null?void 0:t.title,((a=e[0])==null?void 0:a.count)??((c=e[0])==null?void 0:c.stock),r)?n.error("You have reached the max order"):Y((l=e[0])==null?void 0:l.title,((d=e[0])==null?void 0:d.count)??((w=e[0])==null?void 0:w.stock))?n.error("You have reached the max order"):(R((D=e[0])==null?void 0:D.title,r),n.success(`Successfully Added ${r} of ${(W=e[0])==null?void 0:W.title}`))},children:"Add to cart"})})]}),s.jsxs(Q,{to:"/cart",style:{textDecorationLine:"none"},children:[s.jsx(es,{}),s.jsx("span",{style:{marginLeft:"10px"},children:"Go to cart page"})]})]})]})})]})})})]})}export{ns as default};
